[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

; PHP-FPM Service

[program:php-fpm]
command=/usr/local/sbin/php-fpm
autostart=true
autorestart=true
priority=1
stdout_logfile=/var/log/supervisor/php-fpm.log
stderr_logfile=/var/log/supervisor/php-fpm-error.log

; Laravel Queue Worker

[program:horizon]
command=php /var/www/html/artisan horizon
autostart=true
autorestart=true
priority=2
stdout_logfile=/var/log/supervisor/horizon.log
stderr_logfile=/var/log/supervisor/horizon-error.log

; Vite Dev Server

[program:vite]
directory=/var/www/html
command=pnpm run dev --host 0.0.0.0 --port 5173
autostart=true
autorestart=true
priority=3
stdout_logfile=/var/log/supervisor/vite.log
stderr_logfile=/var/log/supervisor/vite-error.log
environment=NODE_ENV="development"
